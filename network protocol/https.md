

[toc]

## http 和 https 的区别

简单来说，http 协议是明文传输数据，不安全，敏感信息容易泄漏；https 通过SSL（安全套接字协议）对数据进行加密，并依靠证书来验证服务器的安全。

https 比 http 更加安全。



## https 

1. 具体来说，这种安全是如何实现的？借助SSL（安全套接字协议）实现。
2. SSL具体做了什么？
   1. 建立信息安全通道，保证数据的安全（加密）
   2. 确认网站的真实性（证书）



### 证书的来源

证书的本质是一对公钥和私钥，可以由个人颁发，可以由受信任的公司颁发。本质上没有区别，（目前我所知道的）唯一的不同是受信任的公司不需要在客户端验证，个人颁发的话要在客户端验证。

另外证书是要花钱的。（疑问：个人颁发的话也要钱吗？）

有免费的证书，不过一般就小型网站用用的样子。



### 认证和加密的实现

**认证**

把证书配置在服务器，收到客户端发来的请求的时候把公钥返回，公钥中包含了证书颁发机构，客户端的TLS（传输层安全）检验证书是否可信，可信的话没啥问题，如果是可疑的证书会在客户端弹出警告⚠️。

**加密**

1. 公钥发给客户端之后，客户端生成一个随机数
2. 使用公钥对随机数进行加密，将加密后的随机数发送到服务器
3. 在服务器中用私钥进行解密
4. 到这一步，客户端和服务端都拿到了随机数，并且传输的过程安全
5. 之后服务端将要传输的数据用随机数进行加密，发送到客户端
6. 客户端拥有随机数，可以用随机数进行解密



## 使用https可能会遇到的问题

1. 无法使用http协议下的前端资源，js/css/image等等
2. http 和https属于不同协议，因为违反浏览器的同源策略会导致在跨域问题



**解决**

1. 使用https资源
2. 使用nginx转发请求 🤔